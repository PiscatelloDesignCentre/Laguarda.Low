"use strict";var elem=document.querySelector(".main-carousel"),video="",flkty=new Flickity(elem,{contain:!1,setGallerySize:!1,draggable:!1,wrapAround:!0,accessibility:!0}),isWindowFocused=!0;function playOnSelect(){console.log("selected"),console.log(video),video&&video.removeEventListener("ended",playNext,!0),video=elem.querySelector(".is-selected").querySelector("video"),video.addEventListener("ended",playNext,!0),video.addEventListener("play",function(){animateCircles(video)}),video.pause(),video.currentTime=0,video.play()}document.querySelector(".custom-prev-next-button.right").addEventListener("click",playNext),document.querySelector(".custom-prev-next-button.left").addEventListener("click",playPrev);function playNext(a){a.stopPropagation(),flkty.next()}function playPrev(a){a.stopPropagation(),flkty.previous()}flkty.on("select",playOnSelect);var dotSvg="<div class=\"figure\">\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n                  width=\"15px\" height=\"15px\" viewBox=\"0 0 200 200\" enable-background=\"new 0 0 15 15\" xml:space=\"preserve\">\n                  <path class=\"path\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"25\" stroke-miterlimit=\"10\" d=\"M100.416,2.001C154.35,2.225,198,46.015,198,100\n                    c0,54.124-43.876,98-98,98S2,154.124,2,100S45.876,2,100,2\"/>\n                  <!--<path class=\"path\" fill=\"#FFFFFF\" stroke=\"#FFFFFF\" stroke-width=\"20\" stroke-miterlimit=\"20\" d=\"M100,2C100.139,2,100,2,100,2\"/>-->\n                </svg>\n              </div>";window.addEventListener("DOMContentLoaded",function(){setTimeout(function(){document.querySelector(".slideshow-custom-wrapper").classList.add("loaded")},1e3),document.querySelectorAll(".dot").forEach(function(a){a.insertAdjacentHTML("beforeend",dotSvg)}),playOnSelect()});function animateCircles(c){function d(){if(g<=0*f)return cancelAnimationFrame(k),void(f=615.423095703125);var e=100-Math.round(100*(parseFloat(g)/f));$(".figure p").html(e+"%"),$(".path").css({"stroke-dashoffset":g}),c.duration!==NaN&&(a=c.currentTime/c.duration,g=f-f*a),k=requestAnimationFrame(d)}var a=0,e=$(".flickity-page-dots svg").find("path"),f=e[0].getTotalLength();console.log(f),e.css({"stroke-dasharray":f+" "+f,"stroke-dashoffset":f});var g=f,k=requestAnimationFrame(d)}