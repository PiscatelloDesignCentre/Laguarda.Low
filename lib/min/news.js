const _async=function(){try{if(isNaN.apply(null,{}))return function(a){return function(){try{return Promise.resolve(a.apply(this,arguments))}catch(a){return Promise.reject(a)}}}}catch(a){}return function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];try{return Promise.resolve(a.apply(this,b))}catch(a){return Promise.reject(a)}}}}();function _continue(a,b){return a&&a.then?a.then(b):b(a)}function _for(a,b,c){function d(g){i=g;do{if(b&&(j=b(),j&&j.then&&!_isSettledPact(j)))return void j.then(f).then(void 0,l);if(h=a(),!h||_isSettledPact(h)&&!h.__value)return void _settle(k,1,i);if(h.then)return void h.then(e).then(void 0,l);i=c(),_isSettledPact(i)&&(i=i.__value)}while(!i||!i.then);i.then(d).then(void 0,l)}function e(a){a?(i=c(),i&&i.then?i.then(d).then(void 0,l):d(i)):_settle(k,1,i)}function f(){(h=a())?h.then?h.then(e).then(void 0,l):e(h):_settle(k,1,i)}for(var g,h;;){if(h=a(),_isSettledPact(h)&&(h=h.__value),!h)return i;if(h.then){g=0;break}var i=c();if(i&&i.then)if(_isSettledPact(i))i=i.__state;else{g=1;break}if(b){var j=b();if(j&&j.then&&!_isSettledPact(j)){g=2;break}}}var k=new _Pact,l=_settle.bind(null,k,2);return(0===g?h.then(e):1===g?i.then(d):j.then(f)).then(void 0,l),k}function _isSettledPact(a){return a instanceof _Pact&&1===a.__state}const _Pact=function(){function a(){}return a.prototype.then=function(b,c){const d=this.__state;if(d){const e=1==d?b:c;if(e){const b=new a;try{_settle(b,1,e(this.__value))}catch(a){_settle(b,2,a)}return b}return this}const f=new a;return this.__observer=function(a){try{const d=a.__value;1==a.__state?_settle(f,1,b?b(d):d):c?_settle(f,1,c(d)):_settle(f,2,d)}catch(a){_settle(f,2,a)}},f},a}();function _settle(a,b,c){if(!a.__state){if(c instanceof _Pact)if(c.__state)1===b&&(b=c.__state),c=c.__value;else return void(c.__observer=_settle.bind(null,a,b));if(c&&c.then)return void c.then(_settle.bind(null,a,b),_settle.bind(null,a,2));a.__state=b,a.__value=c;const d=a.__observer;d&&d(a)}}function _invoke(a,b){var c=a();return c&&c.then?c.then(b):b(c)}function _call(a,b,c){if(c)return b?b(a()):a();try{var d=Promise.resolve(a());return b?d.then(b):d}catch(a){return Promise.reject(a)}}var fadeOutAnimation=_async(function(){document.querySelector(".grid-container").classList.add("fade-out")}),addPosts=_async(function(a,b){var c=!1;let d=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];var e="";let f=0;return _continue(_for(function(){return!c&&f<a},function(){return f++},function(){return _invoke(function(){if(d)return window.post_number=0,_call(fadeOutAnimation,function(){window.scrollTo(0,0),document.querySelector(".grid-container").innerHTML="",document.querySelector(".grid-container").classList.remove("fade-out")})},function(){if(window.post_number+(f+1)>b.length)return void(c=!0);let a=b[window.post_number+f];var d=new Date(a.post_date.replace(/-/g,"/"));e+="<a href='"+a.permalink+"' class='project-thumb invisible'> \n            <img src='"+a.thumbnail+"' /> \n            <div class='project-info'> \n                <span class='project-title'> \n                    "+a.post_title+" \n                </span> \n                <span class='project-location'> \n                    "+d.toLocaleDateString(d.getTimezoneOffset(),{year:"numeric",month:"long",day:"numeric"})+"\n                </span>\n                <span class='project-category'> \n                    "+a.category_names[0]+" \n                </span> \n            </div> \n        </a>"})}),function(){window.post_number+=a,document.querySelector(".grid-container").insertAdjacentHTML("beforeend",e),applyAnimation()})});window.addEventListener("hashchange",handleHashChange),window.post_number=0;function applyAnimation(){var a=0;document.querySelectorAll(".project-thumb.invisible").forEach(function(b){setTimeout(function(){b.classList.add("animate-grid"),b.classList.remove("invisible"),b.classList.remove("fade-out")},a),a+=200})}var scroll=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)};function scrollAnimation(){var a=document.querySelector(".grid-container"),b=window.innerHeight-document.querySelector(".grid-container").getBoundingClientRect().bottom;100<b&&addPosts(4,window.posts),scroll(scrollAnimation)}scrollAnimation();function handleHashChange(){selectButton();var a=window.location.hash.replace("#","");"archive"==a?showArchives():hideArchives(),filterPosts(a)}function showArchives(){fadeOutAnimation(),requestAnimationFrame(function(){requestAnimationFrame(function(){document.querySelector(".grid-container").style.display="none",document.querySelector(".archives-overlay").style.display="block"})})}function hideArchives(){fadeOutAnimation(),requestAnimationFrame(function(){requestAnimationFrame(function(){document.querySelector(".grid-container").style.display="flex",document.querySelector(".archives-overlay").style.display="none"})})}function filterPosts(a){let b=window.posts;var c=[],d=[];""!=a&&a?(c=b.filter(function(b){if(b.category_names[0].toLowerCase().replace(/\s/g,"")==a)return b}),0<c.length?(d=b.filter(function(b){if(b.category_names[0].toLowerCase().replace(/\s/g,"")!==a)return b}),window.posts=c.concat(d)):window.posts=getOriginalPosts()):window.posts=getOriginalPosts(),addPosts(16,window.posts,!0)}function getOriginalPosts(){return JSON.parse(JSON.stringify(window.posts_original))}function selectButton(){var a=document.querySelectorAll(".navigation-tabs a");let b=document.querySelector(".navigation-tabs a[href='"+window.location.hash.replace(/\s/g,"")+"']");a.forEach(function(a){return a.classList.remove("selected")}),b?b.classList.add("selected"):a[0].classList.add("selected")}document.addEventListener("DOMContentLoaded",function(){if(window.location.hash){let a=window.location.hash.replace("#","");"archive"==a?showArchives():filterPosts(a),selectButton()}else addPosts(16,window.posts);scrollAnimation()});